# Welcome to Serverless!

service: HireNow
package:
  individually: true
  exclude:
    - ./**
plugins:
  - serverless-aws-models
  - serverless-reqvalidator-plugin
  - serverless-aws-documentation
  - serverless-iam-roles-per-function
  - serverless-dynamodb-local
provider:
  name: aws
  runtime: python3.8
  apiName: ${self:service}Api
  description: App to automate hiring process
  deploymentBucket:
    name: com.hirenow.${self:provider.region} # Deployment bucket name. Default is generated by the framework
    maxPreviousDeploymentArtifacts: 10 # On every deployment the framework prunes the bucket to remove artifacts older than this limit. The default is 5
    blockPublicAccess: true # Prevents public access via ACLs or bucket policies. Default is false


# you can overwrite defaults here
#  stage: dev
  region: ap-south-1
  # environment:
  #   myTable: ${self:custom.myTable}
  iamRoleStatements:
      - Effect: "Allow"
        Action:
          - cloudwatchlogs:*
          - dynamodb:*
        Resource: "*"

functions:
  - ${file(services/post-job/job.yml)}

custom:
  studentsTable: 'post_job'
  models:
    PostJobRequest:
      ContentType: "application/json"
      Schema: ${file(services/post-job/post-job-req.json)}

resources:
    - ${file(./resources/onlyBody.yml)}
    - ${file(./resources/dynamodb.yml)}
