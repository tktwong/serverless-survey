# serverless.yml
service: catfacts

# lock us to a pre-2.0 (not yet released) version of the serverless framework to protect us from breaking changes
frameworkVersion: ">=1.16.0 <2.0.0"

# pick our language and provider, this is automatically filled in by the template
provider:
  name: aws
  runtime: python3.6
  region: us-west-2
  role: arn:aws:iam::646102706174:role/jahon-catfacts 
  deploymentBucket: us-west-2--mclass--serverless--${opt:stage}

package:
  include:
    - common/**
    - show.py
    - catfacts.json
  exclude:
    - requirements.txt
    - serverless.yml
    - LICENSE.txt
plugins:
  - serverless-domain-manager
custom:
  customDomain:
    domainName: catfacts.aws.wgen.net
    stage: ${opt:stage}
    basePath: ""
    endpointType: 'regional'

# now the good stuff: we can define our functions here
functions:
  show:
    # the "show" part of show.handler is the file,
    # and "handler" indicates the function
    handler: show.handler
    events:
      - http:
          # instead of / you can define any HTTP path you like
          # since we just have one endpoint I used /
          path: /
          method: get

